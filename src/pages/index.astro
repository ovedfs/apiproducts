---
import CardProduct from "../components/CardProduct.astro";
import CategoryLink from "../components/CategoryLink.astro";
import AppLayout from "../layouts/AppLayout.astro";

// Obteniendo todos los productos
const response = await fetch('https://fakestoreapi.com/products')
const products = await response.json()

// Obteniendo las categor√≠as
const response2 = await fetch('https://fakestoreapi.com/products/categories')
const categories = await response2.json()
console.log(categories);

---

<AppLayout title="Home">
	<section class="flex gap-4">
		<aside class="flex flex-col gap-4 bg-amber-50 rounded-xl border p-4">
			{
				categories.map(category => <CategoryLink {category} /> )
			}
		</aside>
		<div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
			{
				products.map(product => <CardProduct {product} />)
			}
		</div>	
	</section>
</AppLayout>